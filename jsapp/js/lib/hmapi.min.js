(function(r){return r.fn.extend({hmapi:function(a,e,t){return a&&"object"==typeof a&&(a=r.extend({},r.hmapi.defaults,a)),this.each(function(){return new r.hmapi(this,a,e,t)}),r(this)}}),r.hmapi=function(a,e,t,u){var n,s,i,c,o,l,p,d,m;d=function(a){var e,t,u,n;return n="users",u="PUT",t=a.id(function(){if(null==a.id)throw Error("updateUserById(): argument.id must be set (user id)")}()),e={},null!=a.name&&(e.name=a.name),null!=a.email&&(e.email=a.email),r.ajax({type:u,cache:!1,data:e,url:r.hmapi.defaults.apiUrl+n+"/"+t,async:!0,dataType:"json",success:function(a){return r.hmapi._callback(a),r.hmapi._this.trigger("updateUserById",a)}})},p=function(a){var e,t,u;return u="users",t="GET",e=a(function(){if(null==a||"int"!=typeof a)throw Error("getUserById(): argument must be user id ")}()),r.ajax({type:t,cache:!1,url:r.hmapi.defaults.apiUrl+u+"/"+e,async:!0,dataType:"json",success:function(a){return r.hmapi._callback(a),r.hmapi._this.trigger("getUserById",a)}})},s=function(a){var e,t,u;return u="users",t="POST",e={},e.name=a.name(function(){if(null==a.name)throw Error("addUser(): argument.name must be set")}()),e.email=a.email(function(){if(null==a.email)throw Error("addUser(): argument.email must be set")}()),r.ajax({type:t,cache:!1,data:e,url:r.hmapi.defaults.apiUrl+u,async:!0,dataType:"json",success:function(a){return r.hmapi._callback(a),r.hmapi._this.trigger("addUser",a)}})},c=function(){var a,e;return e="groups",a="GET",r.ajax({type:a,cache:!1,url:r.hmapi.defaults.apiUrl+e,async:!0,dataType:"json",success:function(a){return r.hmapi._callback(a),r.hmapi._this.trigger("getAllGroup",a)}})},l=function(a){var e,t,u;return u="groups",t="GET",e={},e.name=a(function(){if(null==a)throw Error("getGroupByName(): argument must be name (group name)")}()),r.ajax({type:t,cache:!1,data:e,url:r.hmapi.defaults.apiUrl+u,async:!0,dataType:"json",success:function(a){return r.hmapi._callback(a),r.hmapi._this.trigger("getGroupByName",a)}})},o=function(a){var e,t,u,n;return n="groups",u="GET",e={},t=a(function(){if(null==a)throw Error("getGroupById(): argument must be id (group id)")}()),r.ajax({type:u,cache:!1,url:r.hmapi.defaults.apiUrl+n+"/"+t,async:!0,dataType:"json",success:function(a){return r.hmapi._callback(a),r.hmapi._this.trigger("getGroupById",a)}})},n=function(a){var e,t,u;return u="groups",t="POST",e={},e.name=a.name(function(){if(null==a.name)throw Error("addGroup(): argument.name must be set")}()),e.admin=a.admin(function(){if(null==a.admin)throw Error("addGroup(): argument.admin must be set (user id)")}()),null!=a.treshold&&(e.treshold=a.treshold),r.ajax({type:t,cache:!1,data:e,url:r.hmapi.defaults.apiUrl+u,async:!0,dataType:"json",success:function(a){return r.hmapi._callback(a),r.hmapi._this.trigger("addGroup",a)}})},m=function(a){var e,t,u;return u="clicks",t="POST",e={},e.userId=a.userId(function(){if(null==a.userId)throw Error("userIsHungryInGroupId(): argument.userId must be set")}()),e.groupId=a.groupId(function(){if(null==a.groupId)throw Error("userIsHungryInGroupId(): argument.groupId must be set")}()),r.ajax({type:t,cache:!1,data:e,url:r.hmapi.defaults.apiUrl+u,async:!0,dataType:"json",success:function(a){return r.hmapi._callback(a),r.hmapi._this.trigger("userIsHungryInGroupId",a)}})},i=function(a){var e,t,u;return u="groups",t="POST",data.userId=a.userId(function(){if(null==a.userId)throw Error("addUserInGroup(): argument.userId must be set")}()),e=a.groupId(function(){if(null==a.groupId)throw Error("addUserInGroup(): argument.groupId must be set")}()),r.ajax({type:t,cache:!1,data:data,url:r.hmapi.defaults.apiUrl+u+"/"+e+"/users",async:!0,dataType:"json",success:function(a){return r.hmapi._callback(a),r.hmapi._this.trigger("userIsHungryInGroupId",a)}})},r.hmapi._this=r(a),"function"==typeof t&&(u=t),r.hmapi._callback=u,e&&"string"==typeof e&&("editUserById"===e?editUserById(t):"getUserById"===e?p(t):"addUser"===e?s(t):"getAllGroup"===e&&c())},r.hmapi.defaults={apiUrl:"http://10.0.2.80:3000/"},r.hmapi._this=null,r.hmapi._callback=null})(jQuery);